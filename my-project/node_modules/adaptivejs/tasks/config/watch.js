module.exports = function(grunt) {
    var watchOptions = {};

    if (!grunt.option('safe')) {
        watchOptions['spawn'] = false;
    }

    return {
        options: watchOptions,
        assets: {
            files: [
                'static/**/*',
            ],
            tasks: ['sync']
        },
        adaptation: {
            files: [
                'app/**/*.js',
                'app/**/*.dust',
                '!app/loader.js',
                '!app/config/loader.js',
                '!app/bower_components/**'
            ],
            tasks: ['requirejs:adaptation', 'requirejs:ui'],
        },
        loader: {
            files: [
                'app/loader.js',
                'app/config/loader.js'
            ],
            tasks: ['requirejs:loader']
        }
    };
};
