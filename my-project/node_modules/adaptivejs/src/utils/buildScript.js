define(['adaptivejs/utils/general'], function(adaptiveUtils) {
    /**
     *  Grabs the location of the build script for re-injection into templates
     */
    var cachedBuildScript;
    var getBuildScript = function() {
        try {
            // Find an adaptive build script
            if (!cachedBuildScript) {
                var libs = adaptiveUtils.getAdaptiveLibs();

                cachedBuildScript = libs.mobify ? libs.mobify : libs.adaptation;
            }

            return cachedBuildScript;
        } catch (e) {
            console.error('Couldn\'t determine adaptivejs build file used. The mobify-tag may be placed incorrectly.');
        }
    };

    return getBuildScript;
});
