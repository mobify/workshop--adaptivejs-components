# mobify-upload

> Push builds to the Mobify Cloud

## Example config

```
'mobify-upload': {
    options: {
        projectSlug: 'mobify-test',
        settingsFile: './.local-settings'
    },
    src: ['bld/**', '!bld/test/test-credentials']
}
```

Refer to grunt's globbing patterns to specify file paths (http://gruntjs.com/api/grunt.file#globbing-patterns)

## Optional Options

### origin

> type: string

You can optionally specify the origin of the endpoint where you want to upload your build.  It defaults to cloud.mobify.com

```
options: {
    origin: 'https://cloud-test.mobify.com'
}
```

### message

> type: string

You probably want to send up some sort of descriptive message with your build.  When you run the grunt task you can specify your message like this:

```
grunt mobify-upload --message="An informative and witty build message."
```

### deploy-to-target

> type: string

You can specify a target for the bundle and it will be auto-deployed to this
target after the upload completes. This is useful for making the latest build
of a project available automatically via a build server, for example.

```
grunt mobify-upload --deploy-to-target="ci-development"
```

# mobify-save_credentials

> save your email and mobify api_key for future use

This will store your email and api key in a file which can be accessed when you upload your builds to the mobify cloud.  You can specify the location of the file in your Gruntfile like so:

```
'mobify-save_credentials': {
    src: '/Users/myself/.mobify'
}
```

Then to save your credentials run this command with your credentials:

```
grunt mobify-save_credentials --user="user@mobify.com" --key="5up3rR4Nd0mK3y"
```

# mobify-verify_adaptive_dependencies

> Verifies your `package.json` and `bower.json` files against the Mobify Cloud.

```
grunt mobify-verify_adaptive_dependencies
```

# Deploy

To deploy this plugin you need to specify some environment variables that specify your github username and password.

```
export GITHUB_USERNAME='foobarnerson'
export GITHUB_PASSWORD='myaccesstoken'
```

# Releasing

When releasing a new version, follow these steps:

0. `grunt test`
1. Bump version in package.json
2. Update the CHANGELOG
3. Create a new git tag corresponding to that version and push to origin.
4. `npm publish`
